# 2026/01/24 学習ログ

## 目的
- ネットワーク設定とSSH通信の流れを実機で確認する(UTM+Ubuntu)

## 作業内容
- UTM上に構築済みの Ubuntu Server を使用
- SSHサーバ（OpenSSH）の起動状態を確認
- SSHの待ち受けポートを 22 → 2222 に変更
- SSHサービスが起動していることを確認（LISTEN確認）
- UTMのネットワーク設定を *NAT(共有ネットワーク)* → *ブリッジ接続* に変更
- IPアドレス変更を確認
- MacからUbuntuへSSH接続（port 2222)

## 発生した問題・対応
問題 - SSHサービスは起動しているのにMacから接続すると *Connection refused* になる
原因 - UTMのネットワーク接続が共有ネットワーク(NAT)になっていたためMacとの直接接続ができなかった。
対応 - ネットワーク接続をブリッジ接続に変更
       UbuntuのIPアドレスが変更されたことを確認
       新しいIPアドレスで接続し、成功

## 学んだこと
- NAT環境では外部端末から内部端末への通信が制限される
- ブリッジ接続では仮想マシンは同一ネットワーク上の端末として振る舞う
- サービスが起動していても、ネットワーク構成次第で通信成立できない場合がある
